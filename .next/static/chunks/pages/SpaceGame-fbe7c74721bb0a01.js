(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[633],{4114:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/SpaceGame",function(){return s(2163)}])},2163:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var a=s(5893),n=s(7294),r=s(1163),l=s(7066),o=s(3454);async function c(e){let t=o.env.NEXT_PUBLIC_AUDIUS_HOST,s=o.env.NEXT_PUBLIC_APP_NAME,a="".concat(t,"/v1/tracks/trending?genre=").concat(e,"&limit=50&app_name=").concat(s);console.log(t),console.log(s);try{return(await l.Z.get(a)).data.data}catch(e){return console.error("Error fetching trending tracks:",e),[]}}async function i(e){let t=o.env.NEXT_PUBLIC_AUDIUS_HOST,s="".concat(t,"/v1/tracks/").concat(e,"/stream");try{let e=await l.Z.get(s,{responseType:"blob"});return URL.createObjectURL(e.data)}catch(e){return console.error("Error fetching stream URL:",e),null}}var u=s(5675),d=s.n(u),h=s(1766);new h.Howl({src:["/assets/Odyssey.asteroid_explosion.wav"],loop:!1});let A=new h.Howl({src:["/assets/Odyssey.laser.wav"],volume:1,loop:!1}),g=new h.Howl({src:["/assets/Odyssey.hero_death.wav"],loop:!1}),m=(e,t)=>(new h.Howl({src:["/assets/Odyssey.asteroid_explosion.wav"],volume:1,loop:!1}).play(),{id:Date.now(),src:"/assets/zexplosion-d.asteroid.alt.gif",x:e,w:75,h:75,y:t,duration:1e3}),p=(e,t)=>(A.play(),{src:"/assets/flash.png",x:e,y:t,w:20,h:20,duration:300}),x=(e,t)=>(g.play(),{id:Date.now(),src:"/assets/explosion-a_hero.pyramid.gif",x:e,y:t,w:100,h:100,duration:500});var f={src:"/_next/static/media/asteroid.590169ea.png",height:37,width:35,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEW2Fi1bJxQqEBxEFR1sMhIaCxkkCR1RIRZbKhN7Og+xZQxCGxcVCBwbCRsUBhwoCR6ERxFYKBWAPxNpLxLRfAuRTA6gVw6gVQsdDBoOBRs5ExqLRRFEFMCnAAAAG3RSTlMBgP78/u+C/f38q0HRb8SdaJnE6S3kI4T//v48egHfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPklEQVR4nAXBhwHAIAzAMDND6N4Q/v+zEnBcT32BTaKNCtmHWERv1t5FJX4svZkVPSE3H2TswNykOIApJQc/ZgcClLSMsK4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},b={src:"/_next/static/media/stars.9e5edd65.png",height:1024,width:1399,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAABlBMVEUFBQgHBwy7RkOKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFklEQVR4nGNggABGGI3OYMRgMDAwAAABRQAManEymQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6},y={src:"/_next/static/media/shoot1.00fbc2d3.png",height:19,width:6,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAICAMAAAALMbVOAAAAJFBMVEVwt+RZruJMaXFkqtNmsuWNxekojMlvs97////M+/+s4f/b9f9BwaZuAAAAB3RSTlP+mgCBPJsm5fSFfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB1JREFUeJxjYOdgZ0DGDNwMDIycrAxsXMwMTIwsAAoNAI2ojU5RAAAAAElFTkSuQmCC",blurWidth:3,blurHeight:8},w={src:"/_next/static/media/ship.82b15955.png",height:150,width:150,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEVMaXGomOCOf7+jba12Jo6NSI89PZEATUOlnd1vUrGRe/CFY7hTWqeXmfSrIr8AIv+ulOx2PpIln6+FYL5kmMxwD4KYL/FrLLfeMv/0AAAAFXRSTlMAbUQcpylPByIf6/20/DQP3fMw6XpbNfjvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOElEQVR4nGNgQAKcnBCanYUFTPPziIozgRhCgqJiAqwMDAwi3MJcvIwMDOxsfKzMHBwMDOzsEL0AKU8BWcsYAMwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},v=s(28),j=s(4057),N=e=>{let{id:t,src:s,x:r,y:l,w:o,h:c,duration:i}=e,[u,h]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{let e=setTimeout(()=>{h(!1)},i);return()=>clearTimeout(e)},[i]),u)?(0,a.jsx)("div",{className:"absolute",style:{left:"".concat(r,"%"),top:"".concat(l,"%"),transform:"translate(-50%, -50%)"},children:(0,a.jsx)(d(),{src:s,alt:"Visual Effect",width:100,height:100})}):null},E=function(){let e=(0,r.useRouter)(),[t,s]=(0,n.useState)(!0),[l,o]=(0,n.useState)(null),[u,A]=(0,n.useState)("/assets/background1.png"),[g,E]=(0,n.useState)(0),[S,k]=(0,n.useState)([]),{username:M}=e.query,[R,C]=(0,n.useState)(!1),[B,I]=(0,n.useState)(0),[L,_]=(0,n.useState)(null),[H,O]=(0,n.useState)([]),[F,U]=(0,n.useState)(new Set),[D,T]=(0,n.useState)(null),[P,z]=(0,n.useState)(!0),[G,V]=(0,n.useState)(1),J=(0,n.useRef)(null),X=(0,n.useRef)(null),[K,Q]=(0,n.useState)(!1),{genre:Y}=e.query,q=(0,n.useRef)(null),[W,Z]=(0,n.useState)([]),[$,ee]=(0,n.useState)(5),[et,es]=(0,n.useState)(0),[ea,en]=(0,n.useState)(!1),[er,el]=(0,n.useState)(3),[eo,ec]=(0,n.useState)(0),[ei,eu]=(0,n.useState)(0),[ed,eh]=(0,n.useState)(!1),[eA,eg]=(0,n.useState)("opacity-0");(0,j.k)(!1);let[em,ep]=(0,n.useState)({x:50,y:90}),[ex,ef]=(0,n.useState)(0),[eb,ey]=(0,n.useState)({x:50,y:90}),[ew,ev]=(0,n.useState)([]),[ej,eN]=(0,n.useState)(1),eE=new h.Howl({src:["/assets/ui.Odyssey.back button.wav"]});(0,n.useEffect)(()=>{let e;let t=e=>{if(q.current){let t=q.current.getBoundingClientRect();ey({x:Math.min(Math.max((e.clientX-t.left)/t.width*100,0),100),y:Math.min(Math.max((e.clientY-t.top)/t.height*100,0),100)})}},s=()=>{ep(e=>{let t=e.x+(eb.x-e.x)*.05,s=e.y+(eb.y-e.y)*.05,a=eb.x-e.x;return ef(180/Math.PI*Math.atan2(eb.y-e.y,a)+90),{x:t,y:s}}),e=requestAnimationFrame(s)};return window.addEventListener("mousemove",t),e=requestAnimationFrame(s),()=>{window.removeEventListener("mousemove",t),cancelAnimationFrame(e)}},[em,eb]),(0,n.useEffect)(()=>{let e=()=>{z(!0),J.current&&eL()},t=()=>{z(!1),J.current&&e_()};return q.current&&(q.current.addEventListener("mouseleave",e),q.current.addEventListener("mouseenter",t)),()=>{q.current&&(q.current.removeEventListener("mouseleave",e),q.current.removeEventListener("mouseenter",t))}},[]),(0,n.useEffect)(()=>{let e=e=>{e.preventDefault()};return q.current&&q.current.addEventListener("contextmenu",e),()=>{q.current&&q.current.removeEventListener("contextmenu",e)}},[q]),(0,n.useEffect)(()=>{if(!P&&!ea){let e=setInterval(()=>{ev(e=>e.map(e=>({...e,x:e.x+7*Math.cos(e.angle),y:e.y+7*Math.sin(e.angle)})).filter(e=>e.y>0&&e.y<100&&e.x>0&&e.x<100)),Z(e=>e.map(e=>{let t=e.y+e.speed;return t>100?{...e,y:0,x:100*Math.random()}:{...e,y:t}})),ek();let e=Date.now();e-ei>Math.max(500-50*$,200)&&(eS(),eu(e))},50);return()=>clearInterval(e)}},[P,ew,W,$,ei,eo]);let eS=()=>{if(!P){let e=eb.x-em.x,t=Math.atan2(eb.y-em.y,e),s=180*t/Math.PI;p(em.x,em.y),ev(e=>[...e,{x:em.x,y:em.y,angle:t,rotation:s+90}])}},ek=()=>{ev(e=>e.filter(e=>{let t=W.find(t=>5>Math.abs(t.x-e.x)&&5>Math.abs(t.y-e.y));return!t||(es(e=>e+10),Z(e=>e.filter(e=>e.id!==t.id)),eM(m(t.x,t.y)),!1)}));let e=W.find(e=>5>Math.abs(e.x-em.x)&&5>Math.abs(e.y-em.y));e&&(eN(e=>e-1),Z(t=>t.filter(t=>t.id!==e.id)),ej<=1&&(en(!0),z(!0)),eM(x(e.x,e.y)))},eM=e=>{let t={...e,id:Date.now()};k(e=>[...e,t]),setTimeout(()=>{k(e=>e.filter(e=>e.id!==t.id))},e.duration)};(0,n.useEffect)(()=>{(async()=>{if(Y){let e;e=v.RADIO_GENRES[Y];try{let t=await Promise.all(e.map(c)),s=function(e){for(let t=e.length-1;t>0;t--){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}(t.flat());O(s.map(e=>({id:e.id}))),s.length>0&&eR(s[0],0)}catch(e){console.error("Error fetching tracks:",e),o("Error fetching tracks")}}})()},[Y]);let eR=async(e,t)=>{_(e),I(t);let s=await i(e.id);T(null!=s?s:D),eC(t+1)},eC=async e=>{if(e<H.length){let t=H[e],s=await i(t.id);X.current&&null!==s&&(X.current.src=s,X.current.load())}},eB=new h.Howl({src:["/assets/ui.Odyssey.genre confirm_next track.wav"]});function eI(e){return e instanceof HTMLAudioElement}let eL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;if(!J.current)return;let t=J.current,s=t.volume,a=s/(e/50),n=setInterval(()=>{s>0?(s=Math.max(0,s-a),t.volume=s):(clearInterval(n),t.pause())},50)},e_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;if(!J.current)return;let t=0,s=J.current;s.volume=0,s.play();let a=1/(e/50),n=setInterval(()=>{t<1?(t=Math.min(1,t+a),s.volume=t):clearInterval(n)},50)};(0,n.useEffect)(()=>{0===er&&e.push("/OutOfCoins?username=".concat(M))},[er]);let eH=new h.Howl({src:["/assets/Odyssey.press enter confirm.wav"]}),eO=new h.Howl({src:["/assets/Odyssey.thats_a_viiibe.wav"]});(0,n.useEffect)(()=>{let e=setInterval(()=>{eF()},5e3);return()=>clearInterval(e)},[]);let eF=()=>{let e=[];for(let t=0;t<$;t++)e.push({id:Date.now()+t,x:100*Math.random(),y:0,speed:2*Math.random()+1});Z(t=>[...t,...e])};return(0,n.useEffect)(()=>{if(!P){let e=setInterval(()=>{Z(e=>e.map(e=>({...e,y:e.y+e.speed})).filter(e=>e.y<=100))},100);return()=>{clearInterval(e)}}},[W,P]),(0,a.jsxs)("div",{className:"w-screen h-screen bg-black text-white overflow-hidden relative font-roboto",children:[(0,a.jsx)("div",{className:"absolute inset-0 z-0",children:(0,a.jsx)(d(),{src:b,layout:"fill",objectFit:"cover",alt:"Space background"})}),(0,a.jsx)("div",{className:"absolute inset-0 top-10 bottom-10  z-10 flex items-center justify-center",children:(0,a.jsxs)("div",{ref:q,className:"w-3/4 h-3/4 border-4 border-purple-500 rounded-lg overflow-hidden relative game-area",children:[(0,a.jsx)("div",{className:"absolute inset-0",children:(0,a.jsx)(d(),{src:u,layout:"fill",objectFit:"cover",alt:"Game area background"})}),W.map(e=>(0,a.jsx)("div",{className:"absolute w-16 h-16",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),transform:"translate(-50%, -50%)"},children:(0,a.jsx)(d(),{src:f,layout:"fill",objectFit:"contain",alt:"Asteroid"})},e.id)),S.map(e=>(0,a.jsx)(N,{...e},e.id)),ew.map((e,t)=>(0,a.jsx)("div",{className:"absolute w-2 h-8",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),transform:"translate(-50%, -50%) rotate(".concat(e.rotation,"deg)")},children:(0,a.jsx)(d(),{src:y,layout:"fill",objectFit:"contain",alt:"Laser"})},t)),ej>0&&(0,a.jsx)("div",{className:"absolute w-20 h-20 ",style:{left:"".concat(em.x,"%"),top:"".concat(em.y,"%"),transform:"translate(-50%, -50%) rotate(".concat(ex,"deg)")},children:(0,a.jsx)(d(),{src:w,layout:"fill",objectFit:"contain",alt:"Player ship"})})]})}),"//#region UI",(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 z-20 bg-opacity-70 bg-black p-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex-none left-0",children:(0,a.jsx)(d(),{src:"/assets/back_home_button.png",width:50,height:50,alt:"Logo",onClick:()=>{eE.play(),e.push("/genreSelect?username=".concat(M))}})}),(0,a.jsx)("div",{className:"absolute top-4 right-4 z-20 cursor-pointer",children:(0,a.jsx)(d(),{src:"/assets/menu_burger_button.png",width:30,height:30,alt:"Logo",onClick:()=>e.push("/Menu?username=".concat(M))})}),(0,a.jsx)("div",{className:"mt-15",children:(0,a.jsx)(d(),{src:"/assets/now playing and genre buttons.png",layout:"fill",objectFit:"contain",alt:"Now Playing Background"})}),(0,a.jsx)("div",{className:"absolute text-white text-sm truncate text-center font-roboto",style:{top:"25%",left:"36%",width:"15%",height:"100%"},children:null==L?void 0:L.id}),(0,a.jsx)("div",{className:"absolute text-white text-sm truncate cursor-pointer text-center font-roboto",onClick:()=>{eH.play(),e.push("/genreSelect?username=".concat(M))},style:{top:"25%",right:"25%",width:"15%",height:"100%"},children:e.query.genre})]})}),(0,a.jsx)("div",{className:"relative flex justify-between items-center",children:(0,a.jsxs)("div",{className:"absolute bottom-4 top-20 left-0 right-0 z-20 flex justify-between items-center px-4",children:[(0,a.jsx)("button",{onClick:()=>{if(!K&&J.current&&X.current){Q(!0),eB.play(),eI(J.current)&&eI(X.current)&&(J.current.src=X.current.src,J.current.play()),z(!1);let e=["/assets/background1.png","/assets/background2.png","/assets/background3.png","/assets/background4.png","/assets/background5.png","/assets/background6.png","/assets/background7.png","/assets/background8.png","/assets/background9.png"];E(t=>(t+1)%e.length),A(e[g]);let t=B+1;t<H.length&&(_(H[t]),I(t),eC(t+1)),setTimeout(()=>{Q(!1)},5e3)}},className:"flex-none",children:(0,a.jsx)(d(),{src:"/assets/next button.png",width:175,height:200,alt:"Next"})}),(0,a.jsx)("button",{onClick:()=>{z(e=>!e),J.current&&(P?e_():eL())},className:"flex-none",children:(0,a.jsx)(d(),{src:P?"/assets/play button.png":"/assets/pause button.png",width:175,height:200,alt:P?"Play":"Pause"})}),(0,a.jsxs)("button",{onClick:()=>{er>0&&el(e=>e-1),eg("opacity-100"),eh(!0),eO.play(),setTimeout(()=>{eg("opacity-0"),setTimeout(()=>eh(!1),1e3)},2e3)},className:"flex-none relative",disabled:0===er,children:[(0,a.jsx)(d(),{src:"/assets/vibe button.png",width:175,height:200,alt:"Vibe"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 text-center",children:(0,a.jsxs)("span",{className:"text-green-400 text-sm",children:[er," ",1===er?"vibe":"vibes"," left"]})})]})]})}),ed&&(0,a.jsx)("div",{className:"absolute z-30 transition-opacity duration-1000 ".concat(eA),style:{top:"7%",left:"84.5%",width:"40%",height:"15%"},children:(0,a.jsx)(d(),{src:"/assets/vibesss.png",width:100,height:100,alt:"Fade-in effect"})}),ea&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-4xl mb-4",children:"Game Over"}),(0,a.jsxs)("p",{className:"text-2xl mb-4",children:["Final Score: ",et]}),(0,a.jsx)("button",{className:"px-4 py-2 bg-purple-700 rounded text-white hover:bg-purple-600",onClick:()=>{es(0),eN(1),Z([]),ev([]),en(!1),z(!1),ee(5),ep({x:50,y:90})},children:"Restart"})]})}),(0,a.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-2xl z-30 items-center",children:(0,a.jsx)("div",{className:"flex",children:[...Array(ej)].map((e,t)=>(0,a.jsx)("div",{children:(0,a.jsx)(d(),{src:"/assets/ship.png",width:40,height:40,alt:"Heart"})},t))})}),(0,a.jsx)("audio",{ref:J,src:null!=D?D:"",autoPlay:!P}),(0,a.jsx)("audio",{ref:X,style:{display:"none"}})," ",l&&(0,a.jsx)("div",{className:"absolute bottom-4 right-4 text-red-500 z-30",children:l}),(0,a.jsx)("div",{className:"absolute bottom-4 right-4 z-30",children:(0,a.jsx)(d(),{src:"/assets/Exit button.png",width:25,height:25,alt:"Exit",onClick:()=>{window.confirm("Are you sure you want to exit the game? You will return to the main page.")&&(z(!0),J.current&&J.current&&J.current.pause(),e.push("/"))},className:"cursor-pointer"})})]})}},28:function(e,t,s){"use strict";s.r(t),s.d(t,{RADIO_GENRES:function(){return u},default:function(){return d}});var a=s(5893),n=s(7294),r=s(1163),l=s(5675),o=s.n(l),c=s(4057),i=s(1766);let u={"House 4evr":["House","Deep House","Progressive House","Tech House","Future House"],"Bass Dropper":["Dubstep","Trap","Jersey Club","Moombahton","Future Bass"],"Energy UP":["Techno","Hardstyle","Trance","Electro"],"Beat Breaker":["Drum & Bass","Jungle","Glitch Hop"],Nostalgiacore:["Vaporwave","Lo-Fi","Disco House"],"Lyrical Legends":["Hip-Hop/Rap","R&B/Soul"],"Latin Heat":["Latin"],"Island Grooves":["Reggae","Dancehall"],"Pop Iconic":["Pop","Hyperpop"],"Headbanger's Ball":["Rock","Metal","Punk","Alternative"],"A Strum & A Story":["Folk","Acoustic","Country"],"Smooth Operator":["Jazz","Blues","Funk"],"Cinematic Escape":["Classical","Ambient","Soundtrack","Downtempo"],"Global Sounds":["Experimental","Tropical House","Devotional","World"]};function d(){let e=(0,r.useRouter)(),{username:t}=e.query,[s,l]=(0,n.useState)("");(0,c.k)();let u=new i.Howl({src:["/assets/ui.Odyssey.back button.wav"]}),d=new i.Howl({src:["/assets/Odyssey.press enter confirm.wav"]}),h=(a,n)=>{let r=n?a:"".concat(s,"/").concat(a);d.play(),e.push("/SpaceGame?genre=".concat(r,"&username=").concat(t))};return(0,a.jsxs)("div",{className:"w-screen h-screen bg-black text-white overflow-hidden relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 z-0",children:(0,a.jsx)(o(),{src:"/assets/stars.png",layout:"fill",objectFit:"cover",alt:"Space background"})}),(0,a.jsx)("div",{className:"absolute top-4 left-4 z-20",children:(0,a.jsx)(o(),{src:"/assets/back_home_button.png",width:50,height:50,alt:"Logo",onClick:()=>{u.play(),e.push("/Tutorial?username=".concat(t))}})}),(0,a.jsx)("div",{className:"absolute top-4 right-4 z-20 cursor-pointer",children:(0,a.jsx)(o(),{src:"/assets/menu_burger_button.png",width:30,height:30,alt:"Menu"})}),(0,a.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"w-3/4 h-3/4 border-4 border-purple-500 rounded-lg overflow-hidden relative game-area cursor-pointer",children:[(0,a.jsx)(o(),{src:"/assets/3.genre.soundromeda.odyssey.png",layout:"fill",objectFit:"cover",alt:"Genre select screen"}),(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute top-[30.5%] left-[14%] w-[50%] h-[9%] cursor-pointer",onClick:()=>h("House 4evr",!0)}),(0,a.jsx)("div",{className:"absolute top-[45.5%] left-[14%] w-[50%] h-[9%] cursor-pointer",onClick:()=>h("Lyrical Legends",!0)}),(0,a.jsx)("div",{className:"absolute top-[60.4%] left-[14%] w-[50%] h-[9%] cursor-pointer",onClick:()=>h("Nostalgiacore",!0)}),(0,a.jsx)("div",{className:"absolute top-[75.2%] left-[14%] w-[50%] h-[9%] cursor-pointer",onClick:()=>h("Headbanger's Ball",!0)})]})]})})]})}},4057:function(e,t,s){"use strict";s.d(t,{k:function(){return r}});let a=null,n=!1,r=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return n||((a=new Audio("/assets/soundromeda.odyssey.soundtrack.1.wav")).loop=!0,n=!0,a.volume=.5),e?a&&e&&a.paused&&a.play().catch(console.error):!a||e||a.paused||a.pause(),{isPlaying:!!a&&!a.paused}}}},function(e){e.O(0,[60,66,888,774,179],function(){return e(e.s=4114)}),_N_E=e.O()}]);